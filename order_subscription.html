<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Subscription Order</title>
  <link rel="stylesheet" href="style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>

<!-- NAVBAR -->
<div class="navbar">
  <div class="logo">ðŸ¥© Protein To Home</div>
  <div class="hamburger" onclick="toggleMenu()">â˜°</div>

  <!-- NAV LINKS -->
  <div class="nav-links" id="navLinks">
    <a href="index.html">Home</a>
    <a href="product.html">Products</a>
    <a href="subscription.html">Subscription</a>
    <a href="contact.html">Contact</a>
  </div>
</div>

<!-- HERO -->
<div class="hero">
  <h1>Place Your Subscription Order</h1>
  <p>Choose your plan & get fresh chicken delivered daily</p>
</div>

<!-- ORDER FORM -->
<div class="order-section">
  <h2>Subscription Plan</h2>

  <div class="order-card">
    <label>Full Name</label>
    <input type="text" id="name" placeholder="Enter your name">

    <label>Mobile Number</label>
    <input type="tel" id="phone" placeholder="Enter mobile number">

    <label>Select Plan</label>
    <select id="plan"></select>

    <label>Delivery Address</label>
    <textarea id="address" placeholder="Enter delivery address"></textarea>

    <!-- âœ… CORRECT BUTTON -->
    <button onclick="placeSubscriptionOrder()">Proceed with Plan</button>
  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const plans = JSON.parse(localStorage.getItem("subscriptions")) || [];
  const selectedPlan = localStorage.getItem("selectedPlan");
  const select = document.getElementById("plan");

  select.innerHTML = `<option value="">-- Select Plan --</option>`;

  plans.forEach(p => {
    const opt = document.createElement("option");
    opt.value = p.name;
    opt.textContent = `${p.name} - â‚¹${p.price}`;
    if (p.name === selectedPlan) opt.selected = true;
    select.appendChild(opt);
  });
});

function placeSubscriptionOrder(){
  const name = document.getElementById("name").value;
  const phone = document.getElementById("phone").value;
  const plan = document.getElementById("plan").value;
  const address = document.getElementById("address").value;

  if(!name || !phone || !plan || !address){
    alert("Please fill all details");
    return;
  }

  const msg =
`Subscription Order:
Name: ${name}
Phone: ${phone}
Plan: ${plan}
Address: ${address}`;

  window.open(
    "https://wa.me/917483408060?text=" + encodeURIComponent(msg),
    "_blank"
  );
}
</script>
<script>
  function toggleMenu() {
    document.getElementById("navLinks").classList.toggle("active");
  }
</script>

</body>
</html>
